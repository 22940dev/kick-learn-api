{"version":3,"sources":["assets/logo-white.png","components/Header.js","hooks/useFetchData.js","components/StoreCard.js","components/Loader.js","components/StoresPage.js","components/VideoPlaylist.js","components/VideoPlayer.js","components/VideosPage.js","App.js","index.js"],"names":["Header","className","to","src","logo","alt","useFetchData","useState","data","setData","isLoading","setIsLoading","page","setPage","hasMore","setHasMore","fetchData","query","axios","url","method","responseType","then","res","prevData","next_page","prevPage","catch","error","console","log","StoreCard","name","kicks","walk_in","receipt","scan","checkPlural","num","icon","faWalking","aria-hidden","faReceipt","faQrcode","Loader","StoresPage","useEffect","locationList","map","item","i","dataLength","length","next","loader","VideoPlaylist","handleChange","currentVidIndex","thumbnails","type","value","checked","onChange","e","target","thumbnail","VideoPlayer","setCurrentVidIndex","manifest_url","autoplay","controls","width","height","VideosPage","App","basename","smooth","color","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f563fc70.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-white.813c02b6.png\";","import logo from '../assets/logo-white.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"wrapper header__flex-parent\">\r\n\r\n        <div className=\"header__logo\">\r\n          <Link to=\"/\">\r\n            <img src={logo} alt=\"Shopkick\"/>\r\n          </Link>\r\n        </div>\r\n\r\n        <nav className=\"header__nav\">\r\n          <ul>\r\n            <li>\r\n              <Link to=\"/\" className=\"header__nav-link\">Stores</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/videos\" className=\"header__nav-link\">Videos</Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nconst useFetchData = () => {\r\n  const [data, setData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [page, setPage] = useState(0); // tracks data page #\r\n  const [hasMore, setHasMore] = useState(true) // tracks if more pages are available\r\n\r\n\r\n  const fetchData = (page, query) => {\r\n    setIsLoading(true); // loading started\r\n    axios({\r\n      url: `http://demo2020460.mockable.io/${query}?page=${page}`,\r\n      method: 'GET',\r\n      responseType: 'json'\r\n    }).then(res => {\r\n      // append fetched data to state\r\n      setData(prevData => [...prevData, ...res.data[query + 's']]);\r\n      // if there's a next page, increment page in state. If there isn't, set 'hasMore' to false\r\n      res.data.next_page ? setPage(prevPage => prevPage + 1) : setHasMore(false)\r\n      setIsLoading(false) // loading finished\r\n    }).catch(error => {\r\n      console.log(error);\r\n      setIsLoading(false)\r\n    })\r\n  }\r\n\r\n  return {data, isLoading, page, hasMore, fetchData}\r\n}\r\n\r\nexport default useFetchData;","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faWalking, faReceipt, faQrcode } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nconst StoreCard = ({ data }) => {\r\n  \r\n  const { name, logo, kicks } = data;\r\n  const { walk_in, receipt, scan } = kicks\r\n\r\n  // checks if kicks are singular or plural, and adds suffix 's' if they are plural\r\n  const checkPlural = (num) => {\r\n    if (num === 1) {\r\n      return ''\r\n    } else {\r\n      return 's'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <img \r\n        className=\"card__logo\" \r\n        src={logo} \r\n        alt=\"\" \r\n      />\r\n      <p className=\"card__name\">{name}</p>\r\n\r\n      <ul className=\"card__kicks\">\r\n        <li>\r\n          <div className=\"card__kicks-icon-container\">\r\n            <FontAwesomeIcon \r\n              className=\"card__kicks-icon\" \r\n              icon={faWalking} \r\n              aria-hidden=\"true\"/>\r\n          </div>\r\n          <p><span className=\"card__kicks-count\">{walk_in}</span> Walk-in{checkPlural(walk_in)}</p>\r\n        </li>\r\n\r\n        <li>\r\n          <div className=\"card__kicks-icon-container\">\r\n            <FontAwesomeIcon \r\n              className=\"card__kicks-icon\" \r\n              icon={faReceipt} \r\n              aria-hidden=\"true\" />\r\n          </div>\r\n          <p><span className=\"card__kicks-count\">{receipt}</span> Receipt{checkPlural(receipt)}</p>\r\n        </li>\r\n\r\n        <li>\r\n          <div className=\"card__kicks-icon-container\">\r\n            <FontAwesomeIcon \r\n              className=\"card__kicks-icon\" \r\n              icon={faQrcode} \r\n              aria-hidden=\"true\" />\r\n          </div>\r\n          <p><span className=\"card__kicks-count\">{scan}</span> Scan{checkPlural(scan)}</p>\r\n        </li>\r\n\r\n      </ul>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default StoreCard;\r\n\r\n\r\n","const Loader = () => {\r\n\r\n  return (\r\n    <div className=\"loader\">\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader;","import { useEffect } from 'react'\r\nimport useFetchData from '../hooks/useFetchData';\r\nimport InfiniteScroll from 'react-infinite-scroll-component'; \r\nimport StoreCard from './StoreCard';\r\nimport Loader from './Loader';\r\n\r\n\r\n\r\nconst StoresPage = () => {\r\n  const {\r\n    data,\r\n    page,\r\n    hasMore,\r\n    fetchData\r\n   } = useFetchData()\r\n\r\n\r\n  // the API returns an object that contains a 'locations' (arr) and a 'next_page'(str)\r\n  useEffect(() => {\r\n    fetchData(page, 'location')\r\n  }, [])\r\n\r\n\r\n  // creates a list of Card components that accept a location object as a props\r\n  const locationList = data.map((item, i) => {\r\n    return (\r\n      <StoreCard \r\n        data={item} \r\n        key={i}\r\n      /> \r\n    )\r\n  })\r\n\r\n  return (\r\n    <InfiniteScroll\r\n      dataLength={data.length}\r\n      next={() => fetchData(page, 'location')}\r\n      hasMore={hasMore}\r\n      loader={<Loader />}\r\n      className='scroll'\r\n    >\r\n      <ul>\r\n        {locationList}\r\n      </ul>\r\n    </InfiniteScroll>\r\n  )\r\n}\r\n\r\nexport default StoresPage;","const VideoPlaylist = ({handleChange, data, currentVidIndex}) => {\r\n\r\n  // creates a list of clickable video thumbnails\r\n  const thumbnails = data.map((item, i) => {\r\n    // for some reason strict comparison doesn't work for 'checked' attr, even though these are the same type (number) >:{\r\n    return (\r\n      <label key={i} className=\"playlist__thumbnail\">\r\n        <input\r\n          type=\"radio\"\r\n          name=\"thumbnail\"\r\n          value={i}\r\n          checked={currentVidIndex == i}\r\n          onChange={e => handleChange(e.target)}\r\n          className=\"playlist__thumbnail-radio\"\r\n        />\r\n        <img \r\n          src={item.thumbnail} \r\n          alt=\"\" \r\n          className=\"playlist__thumbnail-img\"\r\n        />\r\n        <span className=\"sr-only\">Video</span>\r\n      </label>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <form className=\"playlist\">\r\n      <fieldset>\r\n        {thumbnails}\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default VideoPlaylist;","import { useState } from 'react';\r\nimport ReactHlsPlayer from 'react-hls-player';\r\nimport VideoPlaylist from './VideoPlaylist';\r\n\r\n\r\n\r\nconst VideoPlayer = ({ data }) => {\r\n  const [currentVidIndex, setCurrentVidIndex] = useState(0);\r\n\r\n  // changes the video playing\r\n  const handleChange = ({ value }) => {\r\n    setCurrentVidIndex(value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"video__container\">\r\n      <ReactHlsPlayer\r\n        url={data[currentVidIndex].manifest_url}\r\n        autoplay={false}\r\n        controls={true}\r\n        width=\"100%\"\r\n        height=\"auto\"\r\n        className=\"video__player\"\r\n      />\r\n      <VideoPlaylist \r\n        handleChange={handleChange} \r\n        data={data} \r\n        currentVidIndex={currentVidIndex}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VideoPlayer;\r\n","import {useEffect, Fragment } from 'react';\r\nimport useFetchData from '../hooks/useFetchData';\r\nimport VideoPlayer from '../components/VideoPlayer';\r\nimport Loader from './Loader';\r\n\r\n\r\nconst VideosPage = () => {\r\n  const {\r\n    data,\r\n    isLoading,\r\n    fetchData\r\n  } = useFetchData()\r\n\r\n  useEffect(() => {\r\n    fetchData(0, 'video');\r\n  }, [])\r\n\r\n  return (\r\n    <Fragment>\r\n      {isLoading ?\r\n        <Loader />\r\n        :\r\n        <VideoPlayer data={data} />\r\n      } \r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default VideosPage;\r\n","import './App.scss';\r\nimport { BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Header from './components/Header';\r\nimport StoresPage from './components/StoresPage';\r\nimport VideosPage from './components/VideosPage';\r\nimport ScrollToTop from 'react-scroll-to-top'; // scroll to top button\r\n\r\n\r\n\r\nfunction App() {\r\n  \r\n  return (\r\n    <Router basename=\"{process.env.PUBLIC_URL}\">\r\n      <div className=\"App\">\r\n        <ScrollToTop \r\n          smooth \r\n          color=\"#0098D6\"\r\n        />\r\n\r\n        <Header />\r\n        <main>\r\n          <div className=\"wrapper\">\r\n            <Route \r\n              path=\"/\" \r\n              exact \r\n              component={StoresPage} \r\n            />\r\n            <Route \r\n              path=\"/videos\" \r\n              exact \r\n              component={VideosPage} \r\n            />\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}